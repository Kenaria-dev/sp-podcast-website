import{d as D,i as k,c as H,a as T,g as I,H as L,b as V,e as E,h as m,j as N,k as M,l as y,m as Y,o as q,p as P,q as $,r as j,t as z,u as B,v as b,w as C,x as W,y as F,z as G}from"./runtime.CHk9PFAs.js";import{c as J}from"./disclose-version.CQ1DD6PQ.js";const K=new Set,O=new Set;function v(t){var S;var r=this,o=r.ownerDocument,c=t.type,i=((S=t.composedPath)==null?void 0:S.call(t))||[],e=i[0]||t.target,u=0,l=t.__root;if(l){var d=i.indexOf(l);if(d!==-1&&(r===document||r===window)){t.__root=r;return}var f=i.indexOf(r);if(f===-1)return;d<=f&&(u=d)}if(e=i[u]||t.target,e!==r){D(t,"currentTarget",{configurable:!0,get(){return e||o}});try{for(var _,a=[];e!==null;){var s=e.parentNode||e.host||null;try{var n=e["__"+c];if(n!==void 0&&!e.disabled)if(k(n)){var[g,...p]=n;g.apply(e,[t,...p])}else n.call(e,t)}catch(w){_?a.push(w):_=w}if(t.cancelBubble||s===r||s===null)break;e=s}if(_){for(let w of a)queueMicrotask(()=>{throw w});throw _}}finally{t.__root=r,e=r}}}const Q=["wheel","touchstart","touchmove","touchend","touchcancel"];function U(t){return Q.includes(t)}function rr(t,r){r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r==null?"":r+"")}function X(t,r){const o=r.anchor??r.target.appendChild(H());return A(t,{...r,anchor:o})}function tr(t,r){T(),r.intro=r.intro??!1;const o=r.target,c=b,i=y;try{for(var e=I(o);e&&(e.nodeType!==8||e.data!==L);)e=V(e);if(!e)throw E;m(!0),N(e),M();const u=A(t,{...r,anchor:e});if(y===null||y.nodeType!==8||y.data!==Y)throw q(),E;return m(!1),u}catch(u){if(u===E)return r.recover===!1&&P(),T(),$(o),m(!1),X(t,r);throw u}finally{m(c),N(i)}}const h=new Map;function A(t,{target:r,anchor:o,props:c={},events:i,context:e,intro:u=!0}){T();var l=new Set,d=a=>{for(var s=0;s<a.length;s++){var n=a[s];if(!l.has(n)){l.add(n);var g=U(n);r.addEventListener(n,v,{passive:g});var p=h.get(n);p===void 0?(document.addEventListener(n,v,{passive:g}),h.set(n,1)):h.set(n,p+1)}}};d(j(K)),O.add(d);var f=void 0,_=z(()=>(B(()=>{if(e){C({});var a=G;a.c=e}i&&(c.$$events=i),b&&J(o,null),f=t(o,c)||{},b&&(W.nodes_end=y),e&&F()}),()=>{for(var a of l){r.removeEventListener(a,v);var s=h.get(a);--s===0?(document.removeEventListener(a,v),h.delete(a)):h.set(a,s)}O.delete(d),R.delete(f)}));return R.set(f,_),f}let R=new WeakMap;function er(t){const r=R.get(t);r==null||r()}export{tr as h,X as m,rr as s,er as u};
